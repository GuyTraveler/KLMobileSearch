<header data-role="header">
    <div data-role="navbar">
        <button class="nav-button" data-align="right"
				data-role="button" data-icon="compose" 
				data-bind="click: editSite, style: { visibility: navBarVisible() ? 'visible' : 'hidden' }">
			<span data-bind="text: system.strings.editSite"></span>
        </button>
        <button class="nav-button" data-align="right" 
				data-role="button" data-icon="delete" 
				data-bind="click: deleteSite, style: { visibility: navBarVisible() ? 'visible' : 'hidden' }">
			<span data-bind="text: system.strings.deleteSite"></span>
        </button>
	</div>
</header>

<ul id="listView" data-role="listview" data-bind="foreach: siteDataSource" >
	<li data-bind="css: { 'item': window.App.os.android, 'highlight': $parent.isSelectedSite($data) }">
		<div class="itemContainer">			
			<!-- TODO: we will want to change this handler once clicking the item actually loads saved searches -->
	        <div data-bind="click: $parent.onItemClick" class="site">
				<div class="imageContainer">
	                <a data-bind="click: $parent.setSelectedSite">
	                    <img class="siteIcon" width="32" data-bind="majorVersionToSiteIcon: majorVersion"/>
	                </a>
				</div>
	            
				<h3 class="siteTitle" data-bind="text: title"></h3>
				
				<div class="grip-main" data-bind="click: $parent.mainGripClick">
					<div data-bind="css: { 'grip-top': true, 'grip-andr-fix': window.App.os.android }"></div>
					<div class="grip-middle"></div>
					<div class="grip-bottom"></div>
                </div>
	        </div>
			
	        <div class="keywordSearch">
				<div class="grip-keyword" data-bind="click: $parent.keywordGripClick">
					<div data-bind="css: { 'grip-top': true, 'grip-andr-fix': window.App.os.android }"></div>
					<div class="grip-middle"></div>
					<div class="grip-bottom"></div>
                </div>
				
				<input class="keyword text-border" type="search"
					   data-bind="value: keyword, event: { keyup: $parent.onSearchKeyUp }, attr: { placeholder: system.strings.keywordsWatermark }" />
				
				<button class="searchButton" data-bind="click: $parent.search">
					<span data-bind="text: system.strings.search"></span>					
                </button>
            </div>
	    </div>
	</li>
</ul>
