<header data-role="header">
    <div data-role="navbar"> 
		<button data-role="backbutton" class="transparent-button back-button-head" data-align="left"></button>				
    </div>
</header>

<div data-bind="if: search()">
    <h3 data-bind="text: search().title"></h3>
</div>

<ul data-role="listview" data-style="inset">
	<li>
		<div class="keywordContainer">
			<div id="keywordInputContainer" class="deleteicon">
				<input id="keywordInput" type="search"
    	   			data-bind="value: keyword, valueUpdate: 'afterkeydown', event: { keyup: onSearchKeyUp }, attr: { placeholder: system.strings.keywordsWatermark }, css: { 'keyword': true, 'invalid' : !isKeywordValid() } " />
				<a data-bind="click: clearKeyword"></a>
            </div>
			
			<div id="keywordSearchButtonContainer"> 
				<button data-role="button" data-icon="search" data-bind="click: executeSearch" class="" />
            </div>			
		</div>
    </li>
</ul>

<p>
	<!-- TODO: need a property to bind 'checked' to (default to AND (checked)) -->
	<input type="checkbox" data-bind="kendoSwitch: { onLabel: system.strings.And, offLabel: system.strings.Or }, enable: $root.search.type === 0" />
</p>


<div data-bind="foreach: searchBuilderDataSource">
	<h4 data-bind="text: $data.selectedProperty"></h4>
	
	<ul data-bind="kendoListView: { style: 'inset' }">  
		<li>
			<label data-bind="searchPropertyBuilder: { data: $data, search: $root.search, properties: $root.propertiesName }">				
            </label>
		</li>
		<li>
			<p>
				<input type="checkbox" data-bind="checked: conjunction, kendoSwitch: { onLabel: system.strings.And, offLabel: system.strings.Or }, enable: $root.search.type === 0" />
			</p>
	    </li>
	</ul>
</div>

<!--<div id="addPropertyButtonContainer"> 
	<button data-role="button" data-bind="click: addProperty" class="">Add Property</button>
</div>-->

<!--<footer data-role="footer">
    <div data-role="tabstrip" data-selected-index="100">
        <a href="#home" data-icon="home">
            <span data-bind="text: system.strings.homeLinkText"></span>
        </a>
    </div>
</footer>-->